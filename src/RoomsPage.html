<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Chat IT - Let's chat about it! Try our live chat!
                                      Chat in real time with other users directly in your favorite browser">
    <meta name="Keywords" content="Chat, WebChat, Chat IT, HTML, CSS, JavaScript, Live Chat, Chatrooms">
    <meta name="author" content="SWitCH - Alexandre Oliveira, Diana Dias, Elsa Almeida, Gabriel Pereira,
                                    João Cardoso, Marta Cardoso, Marta Pinheiro, Marta Ribeiro, Raquel Santos">
    <title>ChatRooms</title>
    <link type="text/css" rel="stylesheet" href="static/CSS/RoomsPage.css"/>
    <script src="static/JavaScript/ChatBox.js"></script>
    <script src="static/JavaScript/UsersOnline.js"></script>
    <script src="static/JavaScript/TalkToUs.js"></script>

    <!--Library de icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
    <!--JQuery-->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous">
    </script>
</head>

<!--???-->
<body onload="setJoinChatroom('MainRoom');reloadRoom();reloadUserOnline();displayNickname()">

    <div class="Wrapper">

        <!--Divisão do lado esquerdo onde aparecem as difetentes salas de chat-->
        <div class="chatRooms_sidebar" id="ChatRooms">
            <div class="chatrooms_sidebar_header">
                <h2>Chat Rooms</h2>
            </div>
            <div class="User_Available_Rooms">
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                <br>
                <!--Botão da sala principal, onde o utilizador entra automáticamente após o login-->
                <button class="chatrooms_sidenav" onclick="setJoinChatroom('MainRoom');reloadRoom()"> Main Room </button>
                <!--Botão para mudar para a Room Just for Fun-->
                <button id="Just4Fun" class="chatrooms_hidden" onclick="setJoinChatroom('Just4Fun');reloadRoom()">Just For Fun</button>
                <br>
                <!--Botão para mudar para a BashtardsOnly-->
                <button id="BashtardsOnly" class="chatrooms_hidden" onclick="setJoinChatroom('BashtardsOnly');reloadRoom()">Bashtards Only!</button>
                <br>
                <!--Botão para mudar para a You Shell Not Pass-->
                <button id="YouShellNotPass" class="chatrooms_hidden" onclick="setJoinChatroom('YouShellNotPass');reloadRoom()">You Shell Not Pass!</button>
                <br>
                <!-- Display of the Username -->
                <div id="currentUsernameDisplay">Current User:</div>
                <div id="usernameDisplay">Loading...</div>
            </div>
            <div class="chatrooms_sidebar_footer">
                <!--Input Field para fazer join a uma sala (sabendo o seu nome)-->
                <div class="joinChatroom">
                    <input type="text" placeholder="Join a Private Chat Room" id="joinChatroom" min="1" maxlength="20"
                           onfocusin="enterToSubmitRoom()" required> <!-- Enter to submit not working here -->
                    <button type="submit" id="joinRoomButton"><i class="fas fa-sign-in-alt" onclick="setJoinChatroomByInput();makeRoomVisible();reloadRoom()"></i>
                    </button>
                    <br>
                </div>
                <!--recebe erro quando os requisitos não são cumpridos-->
                <div id="errorRoomMessage" align="center"></div>

                <br>
                <!--Form para dar opiniões e/ou reportar problemas com o website-->
                <div class="talkToUs">
                    <form action="TalkToUs.html">
                        <button id="Talktous"><i class="glyphicon glyphicon-envelope"></i> Talk to us!</button>
                    </form>
                    <br>
                </div>
                <!--Div utilizada para mostrar texto em ecrãs mais pequenos-->
               <div id="removeOnHover">
                   <br>
                   <p><b>Chat Rooms</b></p>
               </div>
            </div>
        </div>

        <!-- div associada ao chat : -->
        <div class="Chat" id="Chat">
            <!-- caixa do chat: -->
            <div id="chatBox">
                <div id="chatBoxHeader">
                    <h1></h1>
                    <img id="logoSmall" src="https://imgur.com/2OttJwN.png" alt="logo of the chat">
                    <img id="logoCHAT" src="https://imgur.com/kwy8YcJ.png" alt="logo of the chat">
                    <img id="logoIT" src="https://imgur.com/CH7uj9x.png" alt="logo of the chat">
                    <h1></h1>
                    <!-- sair do chat (X): -->
                    <form action="WelcomePage.html">
                        <input id="exitButton" type="submit" value="X">
                    </form>
                </div>
                <!-- output do chat: -->
                <div id="outputBox">Please wait...</div>
                <!-- inputs do user: -->
                <div id="userInput">
                    <!-- Scanner de texto: -->
                    <input id="userTextInput" placeholder="Type a new message... " onfocusin="enterToSend()" type="text"
                           maxlength="140" onkeypress="return blockSpecialChar(event)">
                    <!-- Botão de enviar: -->
                    <button id="sendButton" type="submit" class="sendButton" onclick="sendMessage(); clearInputText()">
                        Send<i class="fas fa-paper-plane" id="sendIcon"></i></button>
                    <br>
                    <!--recebe erro quando os requisitos não são cumpridos-->
                    <div id="errorUserInputMessage"> </div>
                </div>
            </div>
        </div>

        <!--Divisão do lado direito onde conseguimos ver os diferentes utilizadores de dada sala-->
        <div class="CurrentOnlineUsers" id="CurrentOnlineUsers">
            <div id="userLimit"><h2>Online users</h2></div>
            <!--Lista dos utilizadores obtida do servidor-->
            <div id="onlineUsers" class="onlineUserList">
               <div id="userList">
                    <p>User1</p>
                    <p>User2</p>
                </div>
            </div>
            <!--Divisão que nos mostra quantos users estão na Room e o limite da mesma-->
            <div id="onlineUsersTag">
                <p>
                    <span class="troca1">Online Users</span>
                    <span class="troca2"><span id="numberOnlineUsers">0</span>/20</span>
                </p>
            </div>
        </div>

        <!--Rodapé com os diferentes logos-->
        <footer class="nestedFooter">
            <div id="subjectName">SCOMRED</div>
            <img id="switchLogo" src="https://portotechhub.com/wp-content/themes/pth/images/brand.svg" alt="Switch Logo">
            <img id="isepLogo" src="http://www.isep.ipp.pt/images/ISEP_marca_cor.png" alt="Isep Logo">
            <img id="portoTechHubLogo" src="https://pontosdevista.pt/static/uploads/2019/06/primage-38128.png"
                 alt="Porto Tech Hub Logo">
        </footer>

    </div>

</body>

</html>